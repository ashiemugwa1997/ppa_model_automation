{% extends "layout.html" %} {% block styles %}
{% comment %} <link href="/static/assets/css/fresh-bootstrap-table.css" rel="stylesheet" /> {% endcomment %}
<link href="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />
{% endblock styles %}
{% block content %}
<div class="row">
  <div class="col-12">
    <div class="card" style="background: #bbbbe9;">
      <div class="card-header">
        <a class="btn btn-link" style="text-decoration: none;" href="{{request.META.HTTP_REFERER|escape}}">
          <i class="fa-solid fa-arrow-left-long"></i>
        </a>
      </div>
      <div class="card-body">
        <div class="fresh-table" style="background: #bbbbe9;">
          <table id="fresh-table" class="table display nowrap" style="width:100%">
            <thead>
             <th data-field="class_of_business" data-sortable="true">
               Class
               of
               Business
             </th>
             <th data-field="Name_of_Policyholder" data-sortable="true">
               Name
               of
               Policyholder
             </th>
             <th data-field="Surname" data-sortable="true">Surname</th>
             <th data-field="Policy_Number" data-sortable="true">
               Policy
               Number
             </th>
             <th data-field="Start_Date" data-sortable="true">
               Start Date
             </th>
             <th data-field="Ending_Date" data-sortable="true">
               Ending Date
             </th>
             <th
               data-field="Expected_Date_of_Premium_Payment"
               data-sortable="true"
             >
               Expected
               Date
               of
               Premium
               Payment
             </th>
             <th data-field="Date_of_Premium_Payment" data-sortable="true">
               Date
               of
               Premium
               Payment
             </th>
             <th data-field="Premium Installment" data-sortable="true">Premium Installment</th>
             <th data-field="Payment_Frequency" data-sortable="true">
               Payment
               Frequency
             </th>
             <th data-field="total_premium" data-sortable="true">
               Total Premium
             </th>
            </thead>
            <tbody>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %} {% block scripts %}
<script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<script>
  $(document).ready( function () {
    let data = JSON.parse("{{context|escapejs}}")
    let newJson = JSON.parse(data)
    console.log(newJson)
    $('#fresh-table').DataTable({
      scrollX: true,
      data: newJson,
      columns: [
      { data: 'Class of Business' },
      { data: 'Name of Policyholder' },
      { data: 'Surname' },
      { data: 'Policy Number' },
      { data: 'Start Date' },
      { data: 'Ending Date' },
      { data: 'Expected Date of Premium Payment' },
      { data: 'Date of Premium Payment' },
      { data: 'Premium Installment' },
      { data: 'Payment Frequency' },
      { data: 'Total Premium' },
      
  ],

    });
} );

</script>

{%endblock scripts %}
